/** Shrinkwrap URL:
 *      /v2/bundles/js?modules=o-errors%403.5.1%2Co-autoinit%401.2.0&shrinkwrap=raven-js%403.7.0
 */
!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";r(1),window.oErrors={"o-errors":r(2),"o-autoinit":r(8)}},function(t,e){t.exports={name:"__MAIN__",dependencies:{"o-errors":"o-errors#^3.5.1","o-autoinit":"o-autoinit#^1.0.0"}}},function(t,e,r){t.exports=r(3)},function(t,e,r){"use strict";function n(){i.init(),document.removeEventListener("o.DOMContentLoaded",n)}var o=r(4),i=new o;document.addEventListener("o.DOMContentLoaded",n),t.exports=i},function(t,e,r){"use strict";function n(t){return"function"==typeof t}function o(t){setTimeout(function(){throw t},0)}function i(){this.ravenClient=null,this.initialised=!1,this.logger=null,this._logEventHandler=this.handleLogEvent.bind(this),this._errorBuffer=[],this._declarativeConfigString=!1,this._filterError=function(){return!0},this._transformError=function(t){return t}}var a=r(5);i.prototype.init=function(t,e){if(this.initialised)return this;var r=this._hasDeclarativeConfig(),i=!(r||t);if(i)return this;t=t||{},r&&(t=this._initialiseDeclaratively(t),t.filterError&&(t.filterError=void 0,o(new Error("Can not configure 'oErrors' with `filterError` using declarative markup - error filtering will not be enabled"))),t.transformError&&(t.transformError=void 0,o(new Error("Can not configure 'oErrors' with `transformError` using declarative markup - error transforming will not be enabled"))),t.transportFunction&&(t.transportFunction=void 0,o(new Error("Can not configure 'oErrors' with `transportFunction` using declarative markup - overriding Sentry's transport function will not be enabled")))),n(t.transformError)&&(this._transformError=t.transformError),n(t.filterError)&&(this._filterError=t.filterError),Array.isArray(t.errorBuffer)&&t.errorBuffer.length>0&&(this._errorBuffer=this._errorBuffer.concat(t.errorBuffer));var s=void 0!==t.enabled&&t.enabled===!1,l=s?a.off:t.logLevel,u=10;if(this.logger=new a(u,l),s)return this.report=function(t){return t},this.wrapWithContext=function(t){return t},this.initialised=!0,this;if(!t.sentryEndpoint)throw new Error("Could not initialise o-errors: Sentry endpoint and auth configuration missing.");return a.level[l]!==a.level.consoleonly?this._configureAndInstallRaven(t,e):this.ravenClient={captureException:function(){},uninstall:function(){}},document.addEventListener("oErrors.log",this._logEventHandler),this.initialised=!0,this._flushBufferedErrors(),this},i.prototype._configureAndInstallRaven=function(t,e){e||this.ravenClient||(e=r(6)),this.ravenClient=e;var o=t.sentryEndpoint,i=this._updatePayloadBeforeSend.bind(this),a={dataCallback:i};t.siteVersion&&(a.release=t.siteVersion),t.tags&&(a.tags=t.tags),n(t.transportFunction)&&(a.transport=t.transportFunction),this.ravenClient.config(o,a),this.ravenClient.install()},i.prototype._flushBufferedErrors=function(){if(this.initialised){var t=this;this._errorBuffer.forEach(function(e){t.report(e.error,e.context)}),this._errorBuffer=[]}},i.prototype.report=function(t,e){var r=e||{},n={error:t,context:{extra:r}};if(!this.initialised)return this._errorBuffer.push(n),t;var o=this._transformError(n);return o&&o.error&&(n=o),n.context||(n.context={}),this._filterError(n)?(n.error.message&&(n.context.errormessage=n.error.message),this.ravenClient.captureException(n.error,n.context),t):t},i.prototype.error=function(){this.logger.error.apply(this.logger,arguments)},i.prototype.warn=function(){this.logger.warn.apply(this.logger,arguments)},i.prototype.log=function(){this.logger.log.apply(this.logger,arguments)},i.prototype.wrap=function(t){return this.wrapWithContext({},t)},i.prototype.wrapWithContext=function(t,e){var r=this;return function(){try{return e.apply(void 0,arguments)}catch(n){throw r.report(n,t),n}}},i.prototype.destroy=function(){this.initialised&&(document.removeEventListener("oErrors.log",this._logEventHandler),this.ravenClient.uninstall())},i.prototype.handleLogEvent=function(t){if(t){var e={info:t.detail.info||{},extra:{"context:dom":this._getEventPath(t).reduceRight(function(t,e){var r=Array.prototype.slice.call(e.classList||[]);if(!e.nodeName)return t+" - "+e.constructor.name+"\n";var n=e.nodeName.toLowerCase();return 0===n.indexOf("#")?t+"<"+n+">\n":t+"<"+e.nodeName.toLowerCase()+" class='"+r.join(" ")+"' id='"+(e.id||"")+"'>\n"},"")}};this.report(t.detail.error,e)}},i.prototype._getEventPath=function(t){for(var e=[],r=t.target||window.event.srcElement;r;)e.push(r),r=r.parentElement;return e},i.prototype._updatePayloadBeforeSend=function(t){return this.logger.enabled&&(t.extra["context:log"]=this.logger.logLines()),t},i.prototype._hasDeclarativeConfig=function(){return!!this._getDeclarativeConfig()},i.prototype._getDeclarativeConfig=function(){if(!this._declarativeConfigString){var t=document.querySelector("script[data-o-errors-config]");if(!t)return!1;this._declarativeConfigString=t.textContent||t.innerText||t.innerHTML}return this._declarativeConfigString},i.prototype._initialiseDeclaratively=function(t){if(!this._hasDeclarativeConfig())return!1;var e=void 0;try{e=JSON.parse(this._getDeclarativeConfig())}catch(r){throw new Error("Invalid JSON configuration syntax, check validity for o-errors configuration: '"+r.message+"'")}for(var n in e)e.hasOwnProperty(n)&&(t[n]=t[n]||e[n]);return this._declarativeConfigString=!1,t},t.exports=i},function(t,e){"use strict";function r(t,e){this._logBuffer=new Array(t),this._nextLogIndex=0,this._logLevel=r.level[e],this.enabled=this._logLevel!==r.level.off,this.enabled||(this._consoleLog=o);var n="undefined"!=typeof console?console:{log:o,warn:o,error:o};this.out=n}function n(t,e){for(var r=t+":",n=0;n<e.length;n++)r+=" "+e[n];return r}function o(){}r.prototype.error=function(){this._consoleLog("ERROR",this.out.error,arguments)},r.prototype.log=function(){this._consoleLog("LOG",this.out.log,arguments)},r.prototype.warn=function(){this._consoleLog("WARN",this.out.warn,arguments)},r.prototype._consoleLog=function(t,e,o){var i=this._logLevel===r.level.debug||this._logLevel===r.level.consoleonly,a=n(t,o);this.append(a),i&&e&&e.apply(this.out,o)},r.prototype.append=function(t){this._logBuffer[this._nextLogIndex]=t,this._nextLogIndex++,this._nextLogIndex===this._logBuffer.length&&(this._nextLogIndex=0)},r.prototype.logLines=function(){var t=this._nextLogIndex,e=this._nextLogIndex,r=[];do{var n=this._logBuffer[t];void 0!==n&&r.push(this._logBuffer[t]),t++,t>=this._logBuffer.length&&(t=0)}while(t!==e);return r.join("\n")},r.level={off:0,contextonly:1,debug:2,consoleonly:3},t.exports=r},function(t,e,r){t.exports=r(7)},function(t,e,r){var n,n;/*! Raven.js 3.7.0 (cf2ddee) | github.com/getsentry/raven-js */
!function(e){t.exports=e()}(function(){return function t(e,r,o){function i(s,l){if(!r[s]){if(!e[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return i(r?r:t)},h,h.exports,t,e,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,r){function n(t,e,r,n){return JSON.stringify(t,o(e,n),r)}function o(t,e){var r=[],n=[];return null==e&&(e=function(t,e){return r[0]===e?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(e)).join(".")+"]"}),function(o,i){if(r.length>0){var a=r.indexOf(this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,1/0,o):n.push(o),~r.indexOf(i)&&(i=e.call(this,o,i))}else r.push(i);return null==t?i:t.call(this,o,i)}}r=e.exports=n,r.getSerialize=o},{}],2:[function(t,e,r){"use strict";function n(t){this.name="RavenConfigError",this.message=t}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},{}],3:[function(t,e,r){"use strict";var n=function(t,e,r){var n=t[e],o=t;if(e in t){var i="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),e=""+t.join(" "),a={level:i,logger:"console",extra:{arguments:t}};r&&r(e,a),n&&Function.prototype.apply.call(n,o,t)}}};e.exports={wrapMethod:n}},{}],4:[function(t,e,r){"use strict";function n(){return+new Date}function o(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument="undefined"!=typeof document,this._lastCapturedException=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50,autoBreadcrumbs:!0},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=window.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=n(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=window.location,this._lastHref=this._location&&this._location.href;for(var t in this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}var i=t(7),a=t(2),s=t(6),l=t(1),u=s.isFunction,c=s.isUndefined,h=s.isError,f=s.isEmptyObject,p=s.hasKey,d=s.joinRegExp,g=s.each,v=s.objectMerge,_=s.truncate,m=s.urlencode,b=s.uuid4,y=s.htmlTreeAsString,x=s.parseUrl,E=s.isString,w=s.fill,C=t(3).wrapMethod,S="source protocol user pass host port path".split(" "),O=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;o.prototype={VERSION:"3.7.0",debug:!1,TraceKit:i,config:function(t,e){var r=this;if(this._globalServer)return this._logDebug("error","Error: Raven has already been configured"),this;if(!t)return this;e&&g(e,function(t,e){"tags"===t||"extra"===t?r._globalContext[t]=e:r._globalOptions[t]=e}),this.setDSN(t),this._globalOptions.ignoreErrors.push(/^Script error\.?$/),this._globalOptions.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),this._globalOptions.ignoreErrors=d(this._globalOptions.ignoreErrors),this._globalOptions.ignoreUrls=!!this._globalOptions.ignoreUrls.length&&d(this._globalOptions.ignoreUrls),this._globalOptions.whitelistUrls=!!this._globalOptions.whitelistUrls.length&&d(this._globalOptions.whitelistUrls),this._globalOptions.includePaths=d(this._globalOptions.includePaths),this._globalOptions.maxBreadcrumbs=Math.max(0,Math.min(this._globalOptions.maxBreadcrumbs||100,100));var n={xhr:!0,console:!0,dom:!0,location:!0},o=this._globalOptions.autoBreadcrumbs;return"[object Object]"==={}.toString.call(o)?o=v(n,o):o!==!1&&(o=n),this._globalOptions.autoBreadcrumbs=o,i.collectWindowErrors=!!this._globalOptions.collectWindowErrors,this},install:function(){var t=this;return this.isSetup()&&!this._isRavenInstalled&&(i.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),this._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&this._instrumentBreadcrumbs(),this._drainPlugins(),this._isRavenInstalled=!0),Error.stackTraceLimit=this._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this._parseDSN(t),r=e.path.lastIndexOf("/"),n=e.path.substr(1,r);this._dsn=t,this._globalKey=e.user,this._globalSecret=e.pass&&e.pass.substr(1),this._globalProject=e.path.substr(r+1),this._globalServer=this._getGlobalServer(e),this._globalEndpoint=this._globalServer+"/"+n+"api/"+this._globalProject+"/store/"},context:function(t,e,r){return u(t)&&(r=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,r)},wrap:function(t,e,r){function n(){var n=[],i=arguments.length,a=!t||t&&t.deep!==!1;for(r&&u(r)&&r.apply(this,arguments);i--;)n[i]=a?o.wrap(t,arguments[i]):arguments[i];try{return e.apply(this,n)}catch(s){throw o._ignoreNextOnError(),o.captureException(s,t),s}}var o=this;if(c(e)&&!u(t))return t;if(u(t)&&(e=t,t=void 0),!u(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(i){return e}for(var a in e)p(e,a)&&(n[a]=e[a]);return n.prototype=e.prototype,e.__raven_wrapper__=n,n.__raven__=!0,n.__inner__=e,n},uninstall:function(){return i.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(t,e){if(!h(t))return this.captureMessage(t,v({trimHeadFrames:1,stacktrace:!0},e));this._lastCapturedException=t;try{var r=i.computeStackTrace(t);this._handleStackInfo(r,e)}catch(n){if(t!==n)throw n}return this},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){var r=v({message:t+""},e);if(e&&e.stacktrace){var n;try{throw new Error(t)}catch(o){n=o}n.name=null,e=v({fingerprint:t,trimHeadFrames:(e.trimHeadFrames||0)+1},e);var a=i.computeStackTrace(n),s=this._prepareFrames(a,e);r.stacktrace={frames:s.reverse()}}return this._send(r),this}},captureBreadcrumb:function(t){var e=v({timestamp:n()/1e3},t);return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=Array.prototype.slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(l(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=u(t)?function(r){return t(r,e)}:t,this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=u(t)?function(r){return t(r,e)}:t,this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=window.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(window.document){t=t||{};var e=t.eventId||this.lastEventId();if(!e)throw new a("Missing eventId");var r=t.dsn||this._dsn;if(!r)throw new a("Missing DSN");var n=encodeURIComponent,o="";o+="?eventId="+n(e),o+="&dsn="+n(r);var i=t.user||this._globalContext.user;i&&(i.name&&(o+="&name="+n(i.name)),i.email&&(o+="&email="+n(i.email)));var s=this._getGlobalServer(this._parseDSN(r)),l=document.createElement("script");l.async=!0,l.src=s+"/api/embed/error-page/"+o,(document.head||document.body).appendChild(l)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var r,n;if(this._hasDocument){e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),document.createEvent?(r=document.createEvent("HTMLEvents"),r.initEvent(t,!0,!0)):(r=document.createEventObject(),r.eventType=t);for(n in e)p(e,n)&&(r[n]=e[n]);if(document.createEvent)document.dispatchEvent(r);else try{document.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(o){}}},_breadcrumbEventHandler:function(t){var e=this;return function(r){if(e._keypressTimeout=null,e._lastCapturedEvent!==r){e._lastCapturedEvent=r;var n,o=r.target;try{n=y(o)}catch(i){n="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:n})}}},_keypressEventHandler:function(){var t=this,e=1e3;return function(r){var n=r.target,o=n&&n.tagName;if(o&&("INPUT"===o||"TEXTAREA"===o)){var i=t._keypressTimeout;i||t._breadcrumbEventHandler("input")(r),clearTimeout(i),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},e)}}},_captureUrlChange:function(t,e){var r=x(this._location.href),n=x(e),o=x(t);this._lastHref=e,r.protocol===n.protocol&&r.host===n.host&&(e=n.relative),r.protocol===o.protocol&&r.host===o.host&&(t=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_instrumentTryCatch:function(){function t(t){return function(e,n){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a=o[0];return u(a)&&(o[0]=r.wrap(a)),t.apply?t.apply(this,o):t(o[0],o[1])}}function e(t){var e=window[t]&&window[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(w(e,"addEventListener",function(e){return function(n,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=r.wrap(i.handleEvent))}catch(l){}var u;return o&&o.dom&&("EventTarget"===t||"Node"===t)&&("click"===n?u=r._breadcrumbEventHandler(n):"keypress"===n&&(u=r._keypressEventHandler())),e.call(this,n,r.wrap(i,void 0,u),a,s)}},n),w(e,"removeEventListener",function(t){return function(e,r,n,o){try{r=r&&(r.__raven_wrapper__?r.__raven_wrapper__:r)}catch(i){}return t.call(this,e,r,n,o)}},n))}var r=this,n=r._wrappedBuiltIns,o=this._globalOptions.autoBreadcrumbs;w(window,"setTimeout",t,n),w(window,"setInterval",t,n),window.requestAnimationFrame&&w(window,"requestAnimationFrame",function(t){return function(e){return t(r.wrap(e))}},n);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<i.length;a++)e(i[a]);var s=window.jQuery||window.$;s&&s.fn&&s.fn.ready&&w(s.fn,"ready",function(t){return function(e){return t.call(this,r.wrap(e))}},n)},_instrumentBreadcrumbs:function(){function t(t,r){t in r&&u(r[t])&&w(r,t,function(t){return e.wrap(t)})}var e=this,r=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;if(r.xhr&&"XMLHttpRequest"in window){var o=XMLHttpRequest.prototype;w(o,"open",function(t){return function(r,n){return E(n)&&n.indexOf(e._globalKey)===-1&&(this.__raven_xhr={method:r,url:n,status_code:null}),t.apply(this,arguments)}},n),w(o,"send",function(r){return function(n){function o(){if(i.__raven_xhr&&(1===i.readyState||4===i.readyState)){try{i.__raven_xhr.status_code=i.status}catch(t){}e.captureBreadcrumb({type:"http",category:"xhr",data:i.__raven_xhr})}}for(var i=this,a=["onload","onerror","onprogress"],s=0;s<a.length;s++)t(a[s],i);return"onreadystatechange"in i&&u(i.onreadystatechange)?w(i,"onreadystatechange",function(t){return e.wrap(t,void 0,o)}):i.onreadystatechange=o,r.apply(this,arguments)}},n)}r.dom&&this._hasDocument&&(document.addEventListener?(document.addEventListener("click",e._breadcrumbEventHandler("click"),!1),document.addEventListener("keypress",e._keypressEventHandler(),!1)):(document.attachEvent("onclick",e._breadcrumbEventHandler("click")),document.attachEvent("onkeypress",e._keypressEventHandler())));var i=window.chrome,a=i&&i.app&&i.app.runtime,s=!a&&window.history&&history.pushState;if(r.location&&s){var l=window.onpopstate;window.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),l)return l.apply(this,arguments)},w(history,"pushState",function(t){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&e._captureUrlChange(e._lastHref,r+""),t.apply(this,arguments)}},n)}if(r.console&&"console"in window&&console.log){var c=function(t,r){e.captureBreadcrumb({message:t,level:r.level,category:"console"})};g(["debug","info","warn","error","log"],function(t,e){C(console,e,c)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){t=this._wrappedBuiltIns.shift();var e=t[0],r=t[1],n=t[2];e[r]=n}},_drainPlugins:function(){var t=this;g(this._plugins,function(e,r){var n=r[0],o=r[1];n.apply(t,[t].concat(o))})},_parseDSN:function(t){var e=O.exec(t),r={},n=7;try{for(;n--;)r[S[n]]=e[n]||""}catch(o){throw new a("Invalid DSN: "+t)}if(r.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var r=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,r,e)},_prepareFrames:function(t,e){var r=this,n=[];if(t.stack&&t.stack.length&&(g(t.stack,function(t,e){var o=r._normalizeFrame(e);o&&n.push(o)}),e&&e.trimHeadFrames))for(var o=0;o<e.trimHeadFrames&&o<n.length;o++)n[o].in_app=!1;return n=n.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t){if(t.url){var e={filename:t.url,lineno:t.line,colno:t.column,"function":t.func||"?"};return e.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(e.filename)||/(Raven|TraceKit)\./.test(e["function"])||/raven\.(min\.)?js$/.test(e.filename)),e}},_processException:function(t,e,r,n,o,i){var a;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e))&&(e+="",o&&o.length?(r=o[0].filename||r,o.reverse(),a={frames:o}):r&&(a={frames:[{filename:r,lineno:n,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(r))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(r)))){var s=v({exception:{values:[{type:t,value:e,stacktrace:a}]},culprit:r},i);this._send(s)}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=_(t.message,e)),t.exception){var r=t.exception.values[0];r.value=_(r.value,e)}return t},_getHttpData:function(){if(this._hasDocument&&document.location&&document.location.href){var t={headers:{"User-Agent":navigator.userAgent}};return t.url=document.location.href,document.referrer&&(t.headers.Referer=document.referrer),t}},_send:function(t){var e=this._globalOptions,r={project:this._globalProject,logger:e.logger,platform:"javascript"},o=this._getHttpData();o&&(r.request=o),t.trimHeadFrames&&delete t.trimHeadFrames,t=v(r,t),t.tags=v(v({},this._globalContext.tags),t.tags),t.extra=v(v({},this._globalContext.extra),t.extra),t.extra["session:duration"]=n()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),f(t.tags)&&delete t.tags,this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),u(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!f(t)&&(u(e.shouldSendCallback)&&!e.shouldSendCallback(t)||this._sendProcessedPayload(t))},_sendProcessedPayload:function(t,e){var r=this,n=this._globalOptions;if(this._lastEventId=t.event_id||(t.event_id=b()),t=this._trimPacket(t),this._logDebug("debug","Raven about to send:",t),this.isSetup()){var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=t.exception&&t.exception.values[0];this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(n.transport||this._makeRequest).call(this,{url:a,auth:o,data:t,options:n,onSuccess:function(){r._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function(n){r._triggerEvent("failure",{data:t,src:a}),n=n||new Error("Raven send failed (no additional details provided)"),e&&e(n)}})}},_makeRequest:function(t){function e(){200===r.status?t.onSuccess&&t.onSuccess():t.onError&&t.onError(new Error("Sentry error code: "+r.status))}var r=new XMLHttpRequest,n="withCredentials"in r||"undefined"!=typeof XDomainRequest;if(n){var o=t.url;"withCredentials"in r?r.onreadystatechange=function(){4===r.readyState&&e()}:(r=new XDomainRequest,o=o.replace(/^https?:/,""),r.onload=e),r.open("POST",o+"?"+m(t.auth)),r.send(l(t.data))}},_logDebug:function(t){this._originalConsoleMethods[t]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){c(e)?delete this._globalContext[t]:this._globalContext[t]=v(this._globalContext[t]||{},e)}},o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,e.exports=o},{1:1,2:2,3:3,6:6,7:7}],5:[function(t,e,r){"use strict";var n=t(4),o=window.Raven,i=new n;i.noConflict=function(){return window.Raven=o,i},i.afterLoad(),e.exports=i},{4:4}],6:[function(t,e,r){"use strict";function n(t){return void 0===t}function o(t){return"function"==typeof t}function i(t){return"[object String]"===y.toString.call(t)}function a(t){return"object"==typeof t&&null!==t}function s(t){for(var e in t)return!1;return!0}function l(t){var e=y.toString.call(t);return a(t)&&"[object Error]"===e||"[object Exception]"===e||t instanceof Error}function u(t,e){var r,o;if(n(t.length))for(r in t)f(t,r)&&e.call(null,r,t[r]);else if(o=t.length)for(r=0;r<o;r++)e.call(null,r,t[r])}function c(t,e){return e?(u(e,function(e,r){t[e]=r}),t):t}function h(t,e){return!e||t.length<=e?t:t.substr(0,e)+"â€¦"}function f(t,e){return y.hasOwnProperty.call(t,e)}function p(t){for(var e,r=[],n=0,o=t.length;n<o;n++)e=t[n],i(e)?r.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&r.push(e.source);return new RegExp(r.join("|"),"i")}function d(t){var e=[];return u(t,function(t,r){e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}),e.join("&")}function g(t){var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+r+n}}function v(){var t=window.crypto||window.msCrypto;if(!n(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(e[0])+r(e[1])+r(e[2])+r(e[3])+r(e[4])+r(e[5])+r(e[6])+r(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16)})}function _(t){for(var e,r=5,n=80,o=[],i=0,a=0,s=" > ",l=s.length;t&&i++<r&&(e=m(t),!("html"===e||i>1&&a+o.length*l+e.length>=n));)o.push(e),a+=e.length,t=t.parentNode;return o.reverse().join(s)}function m(t){var e,r,n,o,a,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),e=t.className,e&&i(e))for(r=e.split(" "),a=0;a<r.length;a++)s.push("."+r[a]);var l=["type","name","title","alt"];for(a=0;a<l.length;a++)n=l[a],o=t.getAttribute(n),o&&s.push("["+n+'="'+o+'"]');return s.join("")}function b(t,e,r,n){var o=t[e];t[e]=r(o),n&&n.push([t,e,o])}var y=Object.prototype;e.exports={isUndefined:n,isFunction:o,isString:i,isObject:a,isEmptyObject:s,isError:l,each:u,objectMerge:c,truncate:h,hasKey:f,joinRegExp:p,urlencode:d,uuid4:v,htmlTreeAsString:_,htmlElementAsString:m,parseUrl:g,fill:b}},{}],7:[function(t,e,r){"use strict";function n(){return"undefined"==typeof document?"":document.location.href}var o=t(6),i=o.hasKey,a=o.isString,s=o.isUndefined,l={collectWindowErrors:!0,debug:!1},u=[].slice,c="?",h=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;l.report=function(){function t(t){f(),m.push(t)}function e(t){for(var e=m.length-1;e>=0;--e)m[e]===t&&m.splice(e,1)}function r(){p(),m=[]}function o(t,e){var r=null;if(!e||l.collectWindowErrors){for(var n in m)if(i(m,n))try{m[n].apply(null,[t].concat(u.call(arguments,2)))}catch(o){r=o}if(r)throw r}}function s(t,e,r,i,s){var u=null;if(x)l.computeStackTrace.augmentStackTraceWithInitialElement(x,e,r,t),d();else if(s)u=l.computeStackTrace(s),o(u,!0);else{var f,p={url:e,line:r,column:i},g=void 0,_=t;if(a(t)){var f=t.match(h);f&&(g=f[1],_=f[2])}p.func=c,u={name:g,message:_,url:n(),stack:[p]},o(u,!0)}return!!v&&v.apply(this,arguments)}function f(){_||(v=window.onerror,window.onerror=s,_=!0)}function p(){_&&(window.onerror=v,_=!1,v=void 0)}function d(){var t=x,e=b;b=null,x=null,y=null,o.apply(null,[t,!1].concat(e))}function g(t,e){var r=u.call(arguments,1);if(x){if(y===t)return;d()}var n=l.computeStackTrace(t);if(x=n,y=t,b=r,window.setTimeout(function(){y===t&&d()},n.incomplete?2e3:0),e!==!1)throw t}var v,_,m=[],b=null,y=null,x=null;return g.subscribe=t,g.unsubscribe=e,g.uninstall=r,g}(),l.computeStackTrace=function(){function t(t){if(!s(t.stack)&&t.stack){for(var e,r,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=t.stack.split("\n"),u=[],h=(/^(.*) is undefined$/.exec(t.message),0),f=l.length;h<f;++h){if(e=o.exec(l[h])){var p=e[2]&&e[2].indexOf("native")!==-1;r={url:p?null:e[2],func:e[1]||c,args:p?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}else if(e=a.exec(l[h]))r={url:e[2],func:e[1]||c,args:[],line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=i.exec(l[h])))continue;r={url:e[3],func:e[1]||c,args:e[2]?e[2].split(","):[],line:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}!r.func&&r.line&&(r.func=c),u.push(r)}return u.length?(u[0].column||s(t.columnNumber)||(u[0].column=t.columnNumber+1),{name:t.name,message:t.message,url:n(),stack:u}):null}}function e(t,e,r,n){var o={url:e,line:r};if(o.url&&o.line){if(t.incomplete=!1,o.func||(o.func=c),t.stack.length>0&&t.stack[0].url===o.url){if(t.stack[0].line===o.line)return!1;if(!t.stack[0].line&&t.stack[0].func===o.func)return t.stack[0].line=o.line,!1}return t.stack.unshift(o),t.partial=!0,!0}return t.incomplete=!0,!1}function r(t,i){for(var a,s,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,h=[],f={},p=!1,d=r.caller;d&&!p;d=d.caller)if(d!==o&&d!==l.report){if(s={url:null,func:c,line:null,column:null},d.name?s.func=d.name:(a=u.exec(d.toString()))&&(s.func=a[1]),"undefined"==typeof s.func)try{s.func=a.input.substring(0,a.input.indexOf("{"))}catch(g){}f[""+d]?p=!0:f[""+d]=!0,h.push(s)}i&&h.splice(0,i);var v={name:t.name,message:t.message,url:n(),stack:h};return e(v,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),v}function o(e,o){var i=null;o=null==o?0:+o;try{if(i=t(e))return i}catch(a){if(l.debug)throw a}try{if(i=r(e,o+1))return i}catch(a){if(l.debug)throw a}return{name:e.name,message:e.message,url:n()}}return o.augmentStackTraceWithInitialElement=e,o.computeStackTraceFromStackProp=t,o}(),e.exports=l},{6:6}]},{},[5])(5)})},function(t,e,r){t.exports=r(9)},function(t,e){"use strict";function r(t){t in n||(n[t]=!0,document.dispatchEvent(new CustomEvent("o."+t)))}var n={};if(window.addEventListener("load",r.bind(null,"load")),window.addEventListener("load",r.bind(null,"DOMContentLoaded")),document.addEventListener("DOMContentLoaded",r.bind(null,"DOMContentLoaded")),document.onreadystatechange=function(){"complete"===document.readyState?(r("DOMContentLoaded"),r("load")):"interactive"!==document.readyState||document.attachEvent||r("DOMContentLoaded")},"complete"===document.readyState?(r("DOMContentLoaded"),r("load")):"interactive"!==document.readyState||document.attachEvent||r("DOMContentLoaded"),document.attachEvent){var o=!1,i=50;try{o=null==window.frameElement&&document.documentElement}catch(a){}o&&o.doScroll&&!function s(){if(!("DOMContentLoaded"in n)){try{o.doScroll("left")}catch(t){return i<5e3?setTimeout(s,i*=1.2):void 0}r("DOMContentLoaded")}}()}}]);